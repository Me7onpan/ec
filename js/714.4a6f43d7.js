"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[714],{714:function(a,s,e){e.r(s),e.d(s,{default:function(){return f}});var t=function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("div",[e("TypeNav"),e("div",{staticClass:"main"},[e("div",{staticClass:"py-container clearfix"},[e("div",{staticClass:"bread"},[a._m(0),e("ul",{staticClass:"sui-tag"},[a.searchParams.categoryName?e("li",{staticClass:"with-x",on:{click:a.removeCategoryName}},[a._v(" "+a._s(a.searchParams.categoryName)+" "),e("i",[a._v("x")])]):a._e(),a.searchParams.keyword?e("li",{staticClass:"with-x",on:{click:a.removeKeyword}},[a._v(" "+a._s(a.searchParams.keyword)+" "),e("i",[a._v("x")])]):a._e(),a.searchParams.trademark?e("li",{staticClass:"with-x",on:{click:a.removeTrademark}},[a._v(" "+a._s(a.searchParams.trademark.split(":")[1])+" "),e("i",[a._v("x")])]):a._e(),a._l(a.searchParams.props,(function(s,t){return e("li",{key:t,staticClass:"with-x",on:{click:function(s){return a.removeAttr(t)}}},[a._v(" "+a._s(s.split(":")[1])+" "),e("i",[a._v("x")])])}))],2)]),e("SearchSelector",{on:{trademarkInfo:a.trademarkInfo,attrInfo:a.attrInfo}}),e("div",{staticClass:"details clearfix"},[e("div",{staticClass:"sui-navbar"},[e("div",{staticClass:"navbar-inner filter"},[e("ul",{staticClass:"sui-nav"},[e("li",{class:{active:a.isOne},on:{click:function(s){return a.changeOrder("1")}}},[e("a",[a._v("综合"),e("span",{directives:[{name:"show",rawName:"v-show",value:a.isOne&&a.isAsc,expression:"isOne && isAsc"}]},[a._v("⬆")]),e("span",{directives:[{name:"show",rawName:"v-show",value:a.isOne&&a.isDesc,expression:"isOne && isDesc"}]},[a._v("⬇")])])]),e("li",{class:{active:a.isTwo},on:{click:function(s){return a.changeOrder("2")}}},[e("a",[a._v("价格"),e("span",{directives:[{name:"show",rawName:"v-show",value:a.isTwo&&a.isAsc,expression:"isTwo && isAsc"}]},[a._v("⬆")]),e("span",{directives:[{name:"show",rawName:"v-show",value:a.isTwo&&a.isDesc,expression:"isTwo && isDesc"}]},[a._v("⬇")])])])])])]),e("div",{staticClass:"goods-list"},[e("ul",{staticClass:"yui3-g"},a._l(a.goodsList,(function(s){return e("li",{key:s.id,staticClass:"yui3-u-1-5",on:{"":function(a){}}},[e("div",{staticClass:"list-wrap"},[e("div",{staticClass:"p-img"},[e("router-link",{attrs:{to:"/detail/"+s.id}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.defaultImg,expression:"good.defaultImg"}]})])],1),e("div",{staticClass:"price"},[e("strong",[e("em",[a._v("¥")]),e("i",[a._v(a._s(s.price))])])]),e("div",{staticClass:"attr"},[e("a",{attrs:{target:"_blank",href:"item.html",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[a._v(a._s(s.title))])]),a._m(1,!0),a._m(2,!0)])])})),0)]),e("Pagination",{attrs:{pageNo:a.searchParams.pageNo,pageSize:a.searchParams.pageSize,total:a.total,continues:5},on:{getPageNo:a.getPageNo}})],1)],1)])],1)},r=[function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ul",{staticClass:"sui-breadcrumb"},[e("li",[e("a",{attrs:{href:"#"}},[a._v("全部结果")])])])},function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("div",{staticClass:"commit"},[e("i",{staticClass:"command"},[a._v("已有"),e("span",[a._v("2000")]),a._v("人评价")])])},function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("div",{staticClass:"operate"},[e("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[a._v("加入购物车")]),e("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[a._v("收藏")])])}],i=e(629),c=function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("div",{staticClass:"clearfix selector"},[e("div",{staticClass:"type-wrap logo"},[e("div",{staticClass:"fl key brand"},[a._v("品牌")]),e("div",{staticClass:"value logos"},[e("ul",{staticClass:"logo-list"},a._l(a.trademarkList,(function(s){return e("li",{key:s.tmId,on:{click:function(e){return a.trademarkInfo(s)}}},[a._v(" "+a._s(s.tmName)+" ")])})),0)]),a._m(0)]),a._l(a.attrsList,(function(s){return e("div",{key:s.attrId,staticClass:"type-wrap"},[e("div",{staticClass:"fl key"},[a._v(a._s(s.attrName))]),e("div",{staticClass:"fl value"},[e("ul",{staticClass:"type-list"},a._l(s.attrValueList,(function(t,r){return e("li",{key:r,on:{click:function(e){return a.attrInfo(s,t)}}},[e("a",[a._v(a._s(t))])])})),0)]),e("div",{staticClass:"fl ext"})])}))],2)},o=[function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("div",{staticClass:"ext"},[e("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[a._v("多选")]),e("a",{attrs:{href:"javascript:void(0);"}},[a._v("更多")])])}],n={name:"SearchSelector",computed:{...(0,i.Se)(["trademarkList","attrsList"])},methods:{trademarkInfo(a){this.$emit("trademarkInfo",a)},attrInfo(a,s){this.$emit("attrInfo",a,s)}}},h=n,l=e(1001),m=(0,l.Z)(h,c,o,!1,null,"2359bf29",null),d=m.exports,u={name:"Search",components:{SearchSelector:d},data(){return{searchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:3,props:[],trademark:""}}},beforeMount(){Object.assign(this.searchParams,this.$route.query,this.$route.params)},mounted(){this.getSearch()},computed:{...(0,i.rn)({searchInfo:a=>a.search.searchInfo,total:a=>a.search.searchList.total}),...(0,i.Se)(["goodsList"]),isOne(){return-1!==this.searchParams.order.indexOf("1")},isTwo(){return-1!==this.searchParams.order.indexOf("2")},isAsc(){return-1!==this.searchParams.order.indexOf("asc")},isDesc(){return-1!==this.searchParams.order.indexOf("desc")}},watch:{$route(a,s){Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getSearch(),this.searchParams.category1Id="",this.searchParams.category2Id="",this.searchParams.category3Id=""}},methods:{getSearch(){this.$store.dispatch("getSearchList",this.searchParams)},removeCategoryName(){this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0,this.searchParams.categoryName=void 0,this.getSearch()},removeKeyword(){this.searchParams.keyword=void 0,this.getSearch(),this.$bus.$emit("clear"),this.$route.query&&this.$router.push({name:"search",query:this.$route.query})},trademarkInfo(a){this.searchParams.trademark=`${a.tmId}:${a.tmName}`,this.getSearch()},removeTrademark(){this.searchParams.trademark=void 0,this.getSearch(),this.$route.query&&this.$router.push({name:"search",query:this.$route.query},(()=>{}))},attrInfo(a,s){let e=`${a.attrId}:${s}:${a.attrName}`;-1==this.searchParams.props.indexOf(e)&&this.searchParams.props.push(e),this.getSearch()},removeAttr(a){this.searchParams.props.splice(a,1),this.getSearch(),this.$route.query&&this.$router.push({name:"search",query:this.$route.query},(()=>{}))},changeOrder(a){"1"==a?"asc"==this.searchParams.order.split(":")[1]?this.searchParams.order="1:desc":this.searchParams.order="1:asc":"asc"==this.searchParams.order.split(":")[1]?this.searchParams.order="2:desc":this.searchParams.order="2:asc",this.getSearch()},getPageNo(a){console.log(a),this.searchParams.pageNo=a,this.getSearch()}}},v=u,p=(0,l.Z)(v,t,r,!1,null,"1c8a9cb4",null),f=p.exports}}]);